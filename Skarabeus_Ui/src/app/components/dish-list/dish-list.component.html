<div class="p-8 " style="height: calc(100% - 4rem);">
<div class=" flex flex-wrap" >
  <input placeholder="search" type="text" [(ngModel)]="search" class=" sm:w-1/4 md:w-1/5 xl:w-1/6 w-1/2 p-2 h-8 border m-4 rounded mb-3" />
  <button (click)="openCreateModal()" class="bg-blue-500 w-8 h-8 m-4 rounded-md">
    <b>+</b>
  </button>
</div>

<div class="flex flex-wrap flex-1 justify-evenly overflow-y-scroll" style="height: calc(100% - 4rem);">
  @if(!((dishes$|async)?.length == 0)){
      @for(dish of dishes$ | async; track dish){
        @if(normalizeString(dish.name).indexOf(normalizeString(search))!=-1){
          <section (click)="openEditModal(dish)" class="dish" >
            <h2 class="text-center">{{dish.name}}</h2>
            <p class="whitespace-pre-wrap overflow-scroll text-wrap">
              {{dish.description}}
            </p>
          </section>
        }
      }
  }
  @else {
  콯치dn치 data 游땭
  }
</div>

@if (activeModal) {
  <div class="fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center">
    <div class="bg-white rounded-lg w-4/5 h-4/5 p-6 shadow-lg">
      <h2 class="text-lg w-full text-center font-semibold text-gray-700 mb-4">{{modalMode}}</h2>
      <div class="flex justify-around">
        <div class="w-2/5">
          <label class="block text-sm text-gray-600">Name</label>
          <input type="text" [(ngModel)]="dishName" class="w-full p-2 border rounded mb-3" />
        
          <label class="block text-sm text-gray-600">Description</label>
          <textarea type="textArea" [(ngModel)]="dishDescription" class="w-full max-h-80 h-80 p-2 border rounded mb-3" ></textarea>
        </div>
        <div class="w-3/5">
          <div class="flex flex-wrap flex-1 justify-evenly overflow-y-scroll w-full h-full" >
            @if(!((ingredients$ | async)?.length == 0)){
              @for(ingredient of ingredients$|async; track ingredient){
                <section class="ingredient">
                  <h2 class="text-center">{{ingredient.name}} | {{ingredient.priceForUnit}}</h2>
                  
                    <button class="bg-blue-500">edit</button>
                    <button class="bg-red-600" (click)="removeIngredient(ingredient.id)">delete</button>
                  
              </section>
              }
        }
        @else {
          콯치dn치 data 游땭
        }
          </div>
        </div>
      </div>
      <div [ngSwitch]="modalMode" class="w-full flex justify-center modal-buttons">
        <button *ngSwitchCase="'Editing'" (click)="update()" class="bg-teal-400">Save</button>
        <button *ngSwitchCase="'Creating'" (click)="create()" class="bg-teal-400">Create</button>        
        <button (click)="closeModal()" class="bg-red-700">Cancel</button>
      </div>
    </div>
  </div>
}